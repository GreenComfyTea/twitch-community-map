<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@100;300;400;500;700&display=swap" rel="stylesheet">

		<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/antv-g6/4.8.24/g6.min.js"></script> -->

		
		<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/cytoscape/3.28.0/cytoscape.umd.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/sigma.js/2.4.0/sigma.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/graphology/0.25.4/graphology.umd.js"></script> -->
		<!-- <script src="https://github.com/graphology/graphology/releases/download/0.25.4/graphology-library.js"></script> -->
		<script src="https://code.jquery.com/jquery-3.7.0.min.js" integrity="sha256-2Pmvv0kuTBOenSvLm6bvfBSSHrUJ+3A7x6P5Ebd07/g=" crossorigin="anonymous"></script>
		<script src="https://cdn.datatables.net/1.13.5/js/jquery.dataTables.min.js"></script>
		<script src="https://cdn.datatables.net/fixedheader/3.4.0/js/dataTables.fixedHeader.min.js"></script>
		<script src="https://unpkg.com/force-graph"></script>
		<script src="https://unpkg.com/d3-quadtree"></script>
		<script src="https://unpkg.com/d3-force"></script>

		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.fluid.classless.min.css">
		<link rel="stylesheet" href="style.css">

		<script type="module" src="js/map-Force-Graph.js" defer></script>
		<script type="module" src="js/data-loader.js" defer></script>
		<script type="module" src="js/script.js" defer></script>


		<!-- <script type="module" src="parser.js" defer></script> -->
		<title>Twitch Community Map</title>
	</head>
	<body>
		<div class="map-container" id="map"></div>
		
		<div class="ui-container hidden" id="ui-container">
			<div class="left-ui-container">
				<div class="map-option-container">
					<select class="dropdown" id="streamer-dropdown" onchange="onStreamerChange(this)"></select>
					<select class="dropdown" id="year-dropdown" onchange="onYearChange(this)"></select>
					<select class="dropdown" id="timeframe-dropdown" onchange="onTimeframeChange(this)"></select>
					<select class="dropdown" id="ping-type-dropdown" onchange="onPingTypeChange(this)"></select>
	
					<button class="button disabled" id="load-button" onclick="onLoadClick()">Load</button>
				</div>

				<div class="info-container">
					<div class="title-container">
						<span class="title text-shadow">Twitch Community Map</span>
					</div>
		
					<div class="description-container">
						<span class="description text-shadow">A Visualization of How Much Chatters Interact with Each Other Based on Pings</span>

					</div>
		
					<div class="legend-container">
						<div class="legend">
							<span class="legend-circle streamer-circle"></span>
							<span class="type text-shadow streamer-type">Streamer</span>
						</div>
						<div class="legend">
							<span class="legend-circle moderator-circle"></span>
							<span class="type text-shadow moderator-type">Moderators</span>
						</div>
						<div class="legend">
							<span class="legend-circle vip-circle"></span>
							<span class="type text-shadow vip-type">VIPs</span>
						</div>
						<div class="legend">
							<span class="legend-circle artist-circle"></span>
							<span class="type text-shadow artist-type">Artists</span>
						</div>
						<div class="legend">
							<span class="legend-circle partner-circle"></span>
							<span class="type text-shadow partner-type">Partners</span>
						</div>
						<div class="legend">
							<span class="legend-circle subscriber-circle"></span>
							<span class="type text-shadow subscriber-type">Subscribers</span>
						</div>
						<div class="legend">
							<span class="legend-circle viewer-circle"></span>
							<span class="type text-shadow viewer-type">Viewers</span>
						</div>
					</div>
				</div>
			</div>

			<div class="right-ui-container">
				<div class="filter-search-container">

					<span class="filter-label text-shadow">Min Pings:</span>
					<span class="filter-label min-pings-label text-shadow" id="min-pings-label">2</span>
					<input type="range" min="0" max="100" value="2" class="slider" id="min-pings-slider" oninput="onMinPingsInput(this.value)" onkeyup="onFilterKeyUp(event)"></input>
					<button class="button disabled" id="filter-button" onclick="onFilter()">Filter</button>
	
					<input class="search-field" id="search-field" type="text" placeholder="Username" oninput="onSearchInput(this.value)" onkeyup="onSearchKeyUp(event)">
						<button class="button disabled" id="search-button" onclick="onSearchClick(event)">Search</button>
					</input>
				</div>

				<div class="performance-mode-container">
					<span class="filter-label text-shadow">Performance Mode</span>
					<input type="checkbox" class="checkbox disabled" id="performance-mode-checkbox" name="performance-mode-checkbox" onchange="onPerformanceModeChange(this)" />
				</div>

				<div class="leaderboard-container">
					<table id="leaderboard-table" class="leaderboard nowrap">
						<thead>
							<tr>
								<th>🏆</th>
								<th>🙎‍♀️ <span class="text-shadow">Username</span></th>
								<th><span class="green-text">🡇</span> <span class="text-shadow">Received</span></th>
								<th><span class="blue-text">🡅</span> <span class="text-shadow">Sent</span></th>
							</tr>
						</thead>
						<tbody>
						</tbody>
					</table>
				</div>
			</div>
		</div>	

		<div class="loading-container" id="loading-container">
			<div class="loading-icon"></div>
		</div>
	</body>
</html>